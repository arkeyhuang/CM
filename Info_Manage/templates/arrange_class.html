<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../static/home4.png">

    <title>排课系统</title>

    <!-- Bootstrap core CSS -->
    <link href="../static/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="../static/DataTables/DataTables-1.10.16/css/jquery.dataTables.min.css" rel="stylesheet">

    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <link href="../static/assets/css/ie10-viewport-bug-workaround.css" rel="stylesheet">

    <!-- Custom styles for this template -->
{#      <link href="../static/custom.min.css" rel="stylesheet">#}
    <link href="../static/dashboard.css" rel="stylesheet">


    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
    <script src="../static/assets/js/ie-emulation-modes-warning.js"></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

  </head>

  <body>

    <nav class="navbar navbar-fixed-top">
      <div class="container-fluid">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
            <img class="narbar-brand" src="../static/home3.png" alt="" style="float:left">
            <a class="navbar-brand" href="/" style="margin-left: 0;">法学院排课系统</a>
        </div>
        <div id="navbar" class="navbar-collapse">
          <ul class="nav navbar-nav">
            <li class="nav-item"><a href="#" class="nav-active">分配授课教师</a></li>
            <li class="nav-item"><a href="#">分配上课时间</a></li>
            <li class="nav-item"><a href="/class_manage/">课程信息管理</a></li>
            <li class="nav-item"><a href="/teacher_personal/">教师信息管理</a></li>
            <li class="nav-item"><a href="/info_search/">排课结果查询</a></li>
          </ul>
          <ul class="nav navbar-nav navbar-right">
              <li class="nav-item">
                 <a>
                     <b>
                         {% if UserName %}
                            {{ UserName }}
                         {% else %}
                             匿名
                         {% endif %}
                     </b>
                 </a>
              </li>
              <li class="nav-item">
                 <a href="/accounts/logout/">
                     <b>
                         登出
                     </b>
                 </a>
              </li>
          </ul>
        </div>
      </div>
    </nav>

    <div class="container-fluid">
	    <div class="row form-group step-left">
        <div class="col-xs-12">
          <ul class="nav nav-pills nav-stacked thumbnail setup-panel">
            <li class="{{ step_position.0 }}"><a href="#step-1">
                <h4 class="list-group-item-heading">Step 1</h4>
                <p class="list-group-item-text">First step description</p>
            </a></li>
            <li class="{{ step_position.1 }}"><a href="#step-2">
                <h4 class="list-group-item-heading">Step 2</h4>
                <p class="list-group-item-text">Second step description</p>
            </a></li>
            <li class="{{ step_position.2 }}"><a href="#step-3">
                <h4 class="list-group-item-heading">Step 3</h4>
                <p class="list-group-item-text">Third step description</p>
            </a></li>
            <li class="{{ step_position.3 }}"><a href="#step-4">
                <h4 class="list-group-item-heading">Step 4</h4>
                <p class="list-group-item-text">Second step description</p>
            </a></li>
            <li class="{{ step_position.4 }}"><a href="#step-5">
                <h4 class="list-group-item-heading">Step 5</h4>
                <p class="list-group-item-text">Second step description</p>
            </a></li>
          </ul>
        </div>
	    </div>
    </div>

    <form class="container">
        <div class="row setup-content step-main" id="step-1">
            <div class="col-xs-12">
                <div class="col-md-12 well text-center">
                  <h1 class="text-center">排课开始</h1>
                  <div class="col-md-4 col-md-offset-1 text-center">
                    <div class="col-md-11 col-md-offset-1"><h4 class="text-left">本次排课目标学年为: </h4></div>
                    <div class="col-md-11 col-md-offset-1">
                      <h4 class="text-left">学年</h4>
                      <select multiple class="form-control" id="step_1_select_list">
                        <option>2017-2018</option>
                        <option>2018-2019</option>
                        <option>2019-2020</option>
                      </select>
                    </div>
                  </div>
                  <div class="col-md-2 col-md-offset-10 text-center">
                    <button id="activate-step-2" class="btn btn-primary btn-bg">确认</button>
                  </div>
                </div>
            </div>
        </div>
    </form>

    <form class="container">
        <div class="row setup-content step-main" id="step-2">
            <div class="col-xs-12">
                <div class="col-md-12 well text-center">
                    <h4 class="text-left">本次排课目标学期为：{{ step_info.0 }}学年</h4>
                </div>
                <div class="col-md-12 well text-center">
                  <div class="col-md-3">
                    本科
                  </div>
                  <div class="col-md-3">
                    法学硕士
                  </div>
                  <div class="col-md-3">
                    法律硕士
                  </div>
                  <div class="col-md-3">
                    博士
                  </div>
                  <div class="col-md-3">
                    <div style="padding:10px">
                      {% if step_info.1 == 1 %}
                        <a target="_blank" class="btn btn-primary btn-lg active" role="button" id="s2_r1_c1" value="{{ step_info.1 }}" onclick="click_class('s2_r1_c1')">确认课程信息</a>
                      {% elif step_info.1 == 2 %}
                        <a target="_blank" disabled="disabled" class="btn btn-primary btn-lg active" role="button" id="s2_r1_c1" value="{{ step_info.1 }}" onclick="click_class('s2_r1_c1')">课程已确认</a>
                      {% else %}
                          <a href="/class_manage/" target="_blank" class="btn btn-primary btn-lg active" role="button" id="s2_r1_c1" value="{{ step_info.1 }}" onclick="click_class('s2_r1_c1')">输入课程信息</a>
                      {% endif %}
                    </div>
                  </div>
                  <div class="col-md-3">
                    <div style="padding:10px">
                      {% if step_info.2 == 1 %}
                        <a target="_blank" class="btn btn-primary btn-lg active" role="button" id="s2_r1_c2" value="{{ step_info.2 }}" onclick="click_class('s2_r1_c2')">确认课程信息</a>
                      {% elif step_info.2 == 2 %}
                        <a target="_blank" disabled="disabled" class="btn btn-primary btn-lg active" role="button" id="s2_r1_c2" value="{{ step_info.2 }}" onclick="click_class('s2_r1_c2')">课程已确认</a>
                      {% else %}
                          <a href="/class_manage/" target="_blank" class="btn btn-primary btn-lg active" role="button" id="s2_r1_c2" value="{{ step_info.2 }}" onclick="click_class('s2_r1_c2')">输入课程信息</a>
                      {% endif %}
                    </div>
                  </div>
                  <div class="col-md-3">
                    <div style="padding:10px">
                      {% if step_info.3 == 1 %}
                        <a target="_blank" class="btn btn-primary btn-lg active" role="button" id="s2_r1_c3" value="{{ step_info.3 }}" onclick="click_class('s2_r1_c3')">确认课程信息</a>
                      {% elif step_info.3 == 2 %}
                        <a target="_blank" disabled="disabled" class="btn btn-primary btn-lg active" role="button" id="s2_r1_c3" value="{{ step_info.3 }}" onclick="click_class('s2_r1_c3')">课程已确认</a>
                      {% else %}
                          <a href="/class_manage/" target="_blank" class="btn btn-primary btn-lg active" role="button" id="s2_r1_c3" value="{{ step_info.3 }}" onclick="click_class('s2_r1_c3')">输入课程信息</a>
                      {% endif %}
                    </div>
                  </div>
                  <div class="col-md-3">
                    <div style="padding:10px">
                      {% if step_info.4 == 1 %}
                        <a target="_blank" class="btn btn-primary btn-lg active" role="button" id="s2_r1_c4" value="{{ step_info.4 }}" onclick="click_class('s2_r1_c4')">确认课程信息</a>
                      {% elif step_info.4 == 2 %}
                        <a target="_blank" disabled="disabled" class="btn btn-primary btn-lg active" role="button" id="s2_r1_c4" value="{{ step_info.4 }}" onclick="click_class('s2_r1_c4')">课程已确认</a>
                      {% else %}
                          <a href="/class_manage/" target="_blank" class="btn btn-primary btn-lg active" role="button" id="s2_r1_c4" value="{{ step_info.4 }}" onclick="click_class('s2_r1_c4')">输入课程信息</a>
                      {% endif %}
                    </div>
                  </div>
                  <div class="col-md-12" style="padding:10px">
                    {% if step_info.5 == 1 %}
                      <button class="btn btn-lg btn-primary" id="s2_r2_c1" style="width: 90%" data-toggle="modal" data-target="#setTimeout" type="button">教师申报课程</button>
                    {% elif step_info.5 == 2 %}
                      <button class="btn btn-lg btn-primary" id="s2_r2_c1" style="width: 90%" data-toggle="modal" data-target="#setTimeout" value="{{ step_info.6 }}" type="button">距离申报课程截止时间还有<a id="timer"></a></button>
                    {% elif step_info.5 == 3 %}
                      <button class="btn btn-lg btn-primary" id="s2_r2_c1" style="width: 90%" onclick="" value="" type="button">申报课程时间已经截止</button>
                    {% else %}
                      <button class="btn btn-lg btn-primary" disabled="disabled" id="s2_r2_c1" style="width: 90%" type="button">教师申报课程</button>
                    {% endif %}
                  </div>
                  <div class="col-md-3">
                    <div style="padding:10px">
                      {% if step_info.5 == 3 %}
                        {% if step_info.7 == 1%}
                          <a href="/teacher_manage/" target="_blank"  class="btn btn-primary btn-lg active" role="button" id="s2_r3_c1" value="{{ step_info.7 }}" onclick="click_teacher('s2_r3_c1')">确认课程老师</a>
                        {% elif step_info.7 == 2 %}
                          <a target="_blank" disabled="disabled"  class="btn btn-primary btn-lg active" role="button">老师以确认</a>
                        {% else %}
                          <a href="/teacher_manage/" target="_blank"  class="btn btn-primary btn-lg active" role="button" id="s2_r3_c1" value="{{ step_info.7 }}" onclick="click_teacher('s2_r3_c1')">核对课程老师</a>
                        {% endif %}
                      {% else %}
                        <a href="/teacher_manage/" disabled="disabled" class="btn btn-primary btn-lg active" role="button">核对课程老师</a>
                      {% endif %}
                    </div>
                  </div>
                  <div class="col-md-3">
                    <div style="padding:10px">
                      {% if step_info.5 == 3 %}
                        {% if step_info.8 == 1%}
                          <a href="/teacher_manage/" target="_blank"  class="btn btn-primary btn-lg active" role="button" id="s2_r3_c2" value="{{ step_info.8 }}" onclick="click_teacher('s2_r3_c2')">确认课程老师</a>
                        {% elif step_info.8 == 2 %}
                          <a disabled="disabled" target="_blank"  class="btn btn-primary btn-lg active" role="button">老师以确认</a>
                        {% else %}
                          <a href="/teacher_manage/" target="_blank"  class="btn btn-primary btn-lg active" role="button" id="s2_r3_c2" value="{{ step_info.8 }}" onclick="click_teacher('s2_r3_c2')">核对课程老师</a>
                        {% endif %}
                      {% else %}
                        <a href="/teacher_manage/" disabled="disabled" class="btn btn-primary btn-lg active" role="button">核对课程老师</a>
                      {% endif %}
                    </div>
                  </div>
                  <div class="col-md-3">
                    <div style="padding:10px">
                      {% if step_info.5 == 3 %}
                        {% if step_info.9 == 1%}
                          <a href="/teacher_manage/" target="_blank"  class="btn btn-primary btn-lg active" role="button" id="s2_r3_c3" value="{{ step_info.9 }}" onclick="click_teacher('s2_r3_c3')">确认课程老师</a>
                        {% elif step_info.9 == 2 %}
                          <a disabled="disabled" target="_blank"  class="btn btn-primary btn-lg active" role="button">老师以确认</a>
                        {% else %}
                          <a href="/teacher_manage/" target="_blank"  class="btn btn-primary btn-lg active" role="button" id="s2_r3_c3" value="{{ step_info.9 }}" onclick="click_teacher('s2_r3_c3')">核对课程老师</a>
                        {% endif %}
                      {% else %}
                        <a href="/teacher_manage/" disabled="disabled" class="btn btn-primary btn-lg active" role="button">核对课程老师</a>
                      {% endif %}
                    </div>
                  </div>
                  <div class="col-md-3">
                    <div style="padding:10px">
                      {% if step_info.5 == 3 %}
                        {% if step_info.10 == 1%}
                          <a href="/teacher_manage/" target="_blank"  class="btn btn-primary btn-lg active" role="button" id="s2_r3_c4" value="{{ step_info.10 }}" onclick="click_teacher('s2_r3_c4')">确认课程老师</a>
                        {% elif step_info.10 == 2 %}
                          <a target="_blank"  disabled="disabled" class="btn btn-primary btn-lg active" role="button">老师以确认</a>
                        {% else %}
                          <a href="/teacher_manage/" target="_blank"  class="btn btn-primary btn-lg active" role="button" id="s2_r3_c4" value="{{ step_info.10 }}" onclick="click_teacher('s2_r3_c4')">核对课程老师</a>
                        {% endif %}
                      {% else %}
                        <a href="/teacher_manage/" disabled="disabled" class="btn btn-primary btn-lg active" role="button">核对课程老师</a>
                      {% endif %}
                    </div>
                  </div>
                  <div class="col-md-2 col-md-offset-10 text-center">
                    <button id="activate-step-3" class="btn btn-primary btn-bg">确认</button>
                  </div>
                </div>
            </div>
        </div>
    </form>

    <form class="container">
        <div class="row setup-content step-main" id="step-3">
          <div class="col-xs-12">
            <div class="col-md-12 well text-center">
                <h4 class="text-left">本次排课目标学期为：{{ step_info.0 }}学年</h4>
            </div>
            <div class="col-md-12 well text-center">
              <div class="col-md-3">
                本科
              </div>
              <div class="col-md-3">
                法学硕士
              </div>
              <div class="col-md-3">
                法律硕士
              </div>
              <div class="col-md-3">
                博士
              </div>
            </div>
            <div class="col-md-12 well text-center">
              <button class="btn btn-primary btn-lg" data-toggle="modal" data-target="#arrangeClass" type="button" onclick="arrange_start()">分配授课老师</button>
              <div class="col-md-2 col-md-offset-10 text-center">
                <button id="activate-step-4" class="btn btn-primary btn-bg">确认</button>
              </div>
            </div>
          </div>
        </div>
    </form>

    <form class="container">
      <div class="row setup-content step-main" id="step-4">
          <div class="col-xs-12">
              <div class="col-md-12 well text-center">
                  <h1 class="text-center"> STEP 4</h1>
                  <button id="activate-step-5" class="btn btn-primary btn-md">Activate Step 5</button>
              </div>
          </div>
      </div>
    </form>

    <form class="container">
      <div class="row setup-content step-main" id="step-5">
          <div class="col-xs-12">
              <div class="col-md-12 well text-center">
                  <h1 class="text-center"> STEP 5</h1>
              </div>
          </div>
      </div>
    </form>


    <!-- Modal -->
    <div class="modal fade" id="setTimeout" tabindex="-1" role="dialog">
      <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
          <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
              <h4 class="modal-title" id="">请设置教师申报截止日期</h4>
          </div>
          <div class="modal-body " id="">
            <div class="row">
              <div class="col-sm-3">
                <div class="input-group">
                  <select class="form-control" id="setYear">
                    <option>2018</option>
                  </select>
                  <span class="input-group-addon">年</span>
                </div>
              </div>
              <div class="col-sm-2 form-group">
                <div class="input-group">
                  <select class="form-control" id="setMonth">
                    <option>3</option>
                    <option>4</option>
                    <option>5</option>
                    <option>6</option>
                    <option>7</option>
                    <option>8</option>
                    <option>9</option>
                    <option>10</option>
                    <option>11</option>
                    <option>12</option>
                    <option>1</option>
                    <option>2</option>
                  </select>
                  <span class="input-group-addon">月</span>
                </div>
              </div>
              <div class="col-sm-2 form-group">
                <div class="input-group">
                  <select class="form-control" id="setDay">
                    <option>1</option>
                    <option>2</option>
                    <option>22</option>
                  </select>
                  <span class="input-group-addon">日</span>
                </div>
              </div>
              <div class="col-sm-2 form-group">
                <div class="input-group">
                  <select class="form-control" id="setHour">
                    <option>10</option>
                    <option>11</option>
                    <option>12</option>
                  </select>
                  <span class="input-group-addon">时</span>
                </div>
              </div>
              <div class="col-sm-2 form-group">
                <div class="input-group">
                  <select class="form-control" id="setMin">
                    <option>40</option>
                    <option>45</option>
                    <option>50</option>
                    <option>55</option>
                  </select>
                  <span class="input-group-addon">分</span>
                </div>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="button" onclick="start_request()">确定</button>
            <button type="button" class="button" data-dismiss="modal">关闭</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal -->
    <div class="modal fade" id="arrangeClass" tabindex="-1" role="dialog">
      <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
          <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
              <h4 class="modal-title" id="">统计信息</h4>
          </div>
          <div class="modal-body " id="">
            <div>教师总人数: <strong id="teacher_count"></strong></div>
            <div>有<strong id="teacher_with_expect"></strong>位教师有期望学时, 总计<strong id="total_hours_with_expect"></strong>学时</div>
            <div>其余<strong id="teacher_without_expect"></strong>位教师, 预计平均分配学时为<strong id="ave_hours_without_expect"></strong></div>
            <div class="row">
              <div class="col-sm-6">预计平均课程难度</div>
              <div class="col-sm-6">
                <table>
                  <tr>
                    <td>1</td>
                    <td>2</td>
                  </tr>
                  <tr>
                    <td>3</td>
                    <td>4</td>
                  </tr>
                </table>
              </div>
            </div>
            <div>课程总数<a></a></div>
            <table>
              <tr>
                <td>1</td>
                <td>2</td>
              </tr>
              <tr>
                <td>3</td>
                <td>4</td>
              </tr>
            </table>
          <div class="modal-footer">
            <button type="button" class="button">确定</button>
            <button type="button" class="button" data-dismiss="modal">关闭</button>
          </div>
        </div>
      </div>
    </div>
    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="/static/js/jquery-3.2.1.min.js"></script>
    <script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery.min.js"><\/script>')</script>
    <script src="../static/dist/js/bootstrap.min.js"></script>
    <!-- Just to make our placeholder images work. Don't actually copy the next line! -->
    <script src="../static/assets/js/vendor/holder.min.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="../static/assets/js/ie10-viewport-bug-workaround.js"></script>

    <script type="text/javascript" src="../static/DataTables/jQuery-3.2.1/jquery-3.2.1.min.js"></script>
    <script type="text/javascript" src="../static/DataTables/DataTables-1.10.16/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" src="../static/info_manage/arrange_class.js"></script>
  </body>
</html>
